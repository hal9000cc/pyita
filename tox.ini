[tox]
envlist = py38,py39,py310,py311,py312,py313,py314
isolated_build = True

[testenv]
deps =
    numpy>=1.26.0
    numba>=0.59.0
    pytest>=7.0.0
    TA-Lib>=0.6.8
    ccxt>=4.5.35
    tqdm>=4.66.0
    pandas>=2.0.0

commands =
    pytest tests/ -v --tb=short

[testenv:py38]
deps =
    numpy>=1.21.0,<2.0.0
    numba>=0.56.0
    pytest>=7.0.0
    TA-Lib>=0.4.0
    ccxt>=4.0.0
    tqdm>=4.60.0
    pandas>=1.3.0

[testenv:py39]
deps =
    numpy>=1.21.0,<2.0.0
    numba>=0.56.0
    pytest>=7.0.0
    TA-Lib>=0.4.0
    ccxt>=4.0.0
    tqdm>=4.60.0
    pandas>=1.3.0

[testenv:py310]
deps =
    numpy>=1.23.0
    numba>=0.57.0
    pytest>=7.0.0
    TA-Lib>=0.4.0
    ccxt>=4.0.0
    tqdm>=4.60.0
    pandas>=1.5.0

[testenv:py311]
deps =
    numpy>=1.24.0
    numba>=0.58.0
    pytest>=7.0.0
    TA-Lib>=0.4.0
    ccxt>=4.0.0
    tqdm>=4.60.0
    pandas>=2.0.0

[testenv:py312]
deps =
    numpy>=1.26.0
    numba>=0.59.0
    pytest>=7.0.0
    TA-Lib>=0.6.0
    ccxt>=4.5.0
    tqdm>=4.66.0
    pandas>=2.1.0

[testenv:py313]
deps =
    numpy>=2.0.0
    numba>=0.60.0
    pytest>=8.0.0
    TA-Lib>=0.6.0
    ccxt>=4.5.0
    tqdm>=4.66.0
    pandas>=2.2.0

[testenv:py314]
deps =
    numpy>=2.0.0
    numba>=0.60.0
    pytest>=8.0.0
    TA-Lib>=0.6.0
    ccxt>=4.5.0
    tqdm>=4.66.0
    pandas>=2.2.0

[testenv:lint]
deps =
    ruff>=0.1.0
commands =
    ruff check src/ tests/

[testenv:format]
deps =
    ruff>=0.1.0
commands =
    ruff format src/ tests/

